{"openapi":"3.0.2","info":{"title":"A/B Testing API","description":"API powering the A/B Testing feature of Algolia.","version":"1.0.0"},"components":{"securitySchemes":{"appId":{"type":"apiKey","in":"header","name":"X-Algolia-Application-Id"},"apiKey":{"type":"apiKey","in":"header","name":"X-Algolia-API-Key"}}},"servers":[{"url":"https://analytics.{region}.algolia.com","variables":{"region":{"enum":["us","de"],"default":"us"}}},{"url":"https://analytics.algolia.com"}],"security":[{"appId":[],"apiKey":[]}],"tags":[{"name":"abtest","x-displayName":"A/B Testing","description":"Manage A/B Tests."}],"x-tagGroups":[{"name":"General","tags":["abtest"]}],"paths":{"/1{path}":{"get":{"operationId":"get","summary":"Send requests to the Algolia REST API.","description":"This method allow you to send requests to the Algolia REST API.","parameters":[{"name":"path","in":"path","description":"The path of the API endpoint to target, anything after the /1 needs to be specified.","required":true,"schema":{"type":"string","example":"/keys"}},{"name":"parameters","in":"query","description":"Query parameters to be applied to the current query.","schema":{"type":"object","additionalProperties":true}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad request or request arguments.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"402":{"description":"This feature is not enabled on your Algolia account.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"403":{"description":"Method not allowed with this API key.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"404":{"description":"Index not found.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}}}},"post":{"operationId":"post","requestBody":{"description":"The parameters to send with the custom request.","content":{"application/json":{"schema":{"type":"object"}}}},"summary":"Send requests to the Algolia REST API.","description":"This method allow you to send requests to the Algolia REST API.","parameters":[{"name":"path","in":"path","description":"The path of the API endpoint to target, anything after the /1 needs to be specified.","required":true,"schema":{"type":"string","example":"/keys"}},{"name":"parameters","in":"query","description":"Query parameters to be applied to the current query.","schema":{"type":"object","additionalProperties":true}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad request or request arguments.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"402":{"description":"This feature is not enabled on your Algolia account.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"403":{"description":"Method not allowed with this API key.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"404":{"description":"Index not found.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}}}},"put":{"operationId":"put","requestBody":{"description":"The parameters to send with the custom request.","content":{"application/json":{"schema":{"type":"object"}}}},"summary":"Send requests to the Algolia REST API.","description":"This method allow you to send requests to the Algolia REST API.","parameters":[{"name":"path","in":"path","description":"The path of the API endpoint to target, anything after the /1 needs to be specified.","required":true,"schema":{"type":"string","example":"/keys"}},{"name":"parameters","in":"query","description":"Query parameters to be applied to the current query.","schema":{"type":"object","additionalProperties":true}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad request or request arguments.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"402":{"description":"This feature is not enabled on your Algolia account.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"403":{"description":"Method not allowed with this API key.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"404":{"description":"Index not found.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}}}},"delete":{"operationId":"del","summary":"Send requests to the Algolia REST API.","description":"This method allow you to send requests to the Algolia REST API.","parameters":[{"name":"path","in":"path","description":"The path of the API endpoint to target, anything after the /1 needs to be specified.","required":true,"schema":{"type":"string","example":"/keys"}},{"name":"parameters","in":"query","description":"Query parameters to be applied to the current query.","schema":{"type":"object","additionalProperties":true}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad request or request arguments.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"402":{"description":"This feature is not enabled on your Algolia account.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"403":{"description":"Method not allowed with this API key.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"404":{"description":"Index not found.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}}}}},"/2/abtests":{"post":{"tags":["abtest"],"operationId":"addABTests","summary":"Create a test.","description":"Creates a new A/B test with provided configuration.\nYou can set an A/B test on two different indices with different settings, or on the same index with different search parameters by providing a customSearchParameters setting on one of the variants.\n","requestBody":{"required":true,"content":{"application/json":{"schema":{"title":"addABTestsRequest","type":"object","additionalProperties":false,"properties":{"name":{"type":"string","description":"A/B test name."},"variant":{"type":"array","description":"List of 2 variants for the A/B test.","minItems":2,"maxItems":2,"items":{"oneOf":[{"type":"object","additionalProperties":false,"properties":{"index":{"type":"string","description":"The index performing the A/B test."},"trafficPercentage":{"type":"integer","description":"The traffic percentage for the A/B test."},"description":{"type":"string","description":"The A/B test description."}},"required":["index","trafficPercentage"]},{"allOf":[{"type":"object","additionalProperties":false,"properties":{"index":{"type":"string","description":"The index performing the A/B test."},"trafficPercentage":{"type":"integer","description":"The traffic percentage for the A/B test."},"description":{"type":"string","description":"The A/B test description."}},"required":["index","trafficPercentage"]},{"type":"object","additionalProperties":false,"properties":{"customSearchParameters":{"type":"object"}},"required":["customSearchParameters"]}]}]}},"endAt":{"type":"string","description":"End date for the A/B test expressed as YYYY-MM-DDThh:mm:ssZ."}},"required":["name","variant","endAt"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":false,"properties":{"index":{"type":"string","description":"The index performing the A/B test."},"abTestID":{"type":"integer","description":"The A/B test ID."},"taskID":{"type":"integer","format":"int64","description":"taskID of the task to wait for."}},"required":["abTestID","index","taskID"]}}}},"400":{"description":"Bad request or request arguments.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"402":{"description":"This feature is not enabled on your Algolia account.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"403":{"description":"Method not allowed with this API key.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"404":{"description":"Index not found.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}}}},"get":{"tags":["abtest"],"operationId":"listABTests","summary":"List all tests.","description":"Fetch all existing A/B tests for App that are available for the current API Key.\nWhen no data has been processed, the metrics will be returned as null.\n","parameters":[{"in":"query","name":"offset","description":"Position of the starting record. Used for paging. 0 is the first record.","schema":{"type":"integer","default":0}},{"in":"query","name":"limit","description":"Number of records to return. Limit is the size of the page.","schema":{"type":"integer","default":10}},{"name":"indexPrefix","in":"query","description":"Filters the returned ab tests by any indices starting with the provided prefix that are assigned to either variant of an ab test.","schema":{"type":"string"}},{"name":"indexSuffix","in":"query","description":"Filters the returned ab tests by any indices ending with the provided suffix that are assigned to either variant of an ab test.","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"title":"listABTestsResponse","type":"object","additionalProperties":false,"properties":{"abtests":{"type":"array","description":"List of A/B tests.","items":{"type":"object","additionalProperties":false,"properties":{"abTestID":{"type":"integer","description":"The A/B test ID."},"clickSignificance":{"type":"number","format":"double","description":"A/B test significance based on click data. Should be > 0.95 to be considered significant (no matter which variant is winning)."},"conversionSignificance":{"type":"number","format":"double","description":"A/B test significance based on conversion data. Should be > 0.95 to be considered significant (no matter which variant is winning)."},"endAt":{"type":"string","description":"End date for the A/B test expressed as YYYY-MM-DDThh:mm:ssZ."},"updatedAt":{"type":"string","description":"Update date for the A/B test expressed as YYYY-MM-DDThh:mm:ssZ."},"createdAt":{"type":"string","description":"Creation date for the A/B test expressed as YYYY-MM-DDThh:mm:ssZ."},"name":{"type":"string","description":"A/B test name."},"status":{"type":"string","description":"status of the A/B test."},"variants":{"type":"array","description":"List of A/B test variant.","items":{"type":"object","additionalProperties":false,"properties":{"averageClickPosition":{"type":"integer","description":"Average click position for the variant."},"clickCount":{"type":"integer","description":"Distinct click count for the variant."},"clickThroughRate":{"type":"number","format":"double","description":"Click through rate for the variant."},"conversionCount":{"type":"integer","description":"Distinct conversion count for the variant."},"conversionRate":{"type":"number","format":"double","description":"Conversion rate for the variant."},"description":{"type":"string","description":"The A/B test description."},"index":{"type":"string","description":"The index performing the A/B test."},"noResultCount":{"description":"The number of occurrences.","type":"integer"},"searchCount":{"type":"integer","description":"The number of search during the A/B test."},"trackedSearchCount":{"type":"integer","description":"The number of tracked search click."},"trafficPercentage":{"type":"integer","description":"The traffic percentage for the A/B test."},"userCount":{"type":"integer","description":"The number of user during the A/B test."}},"required":["userCount","trafficPercentage","trackedSearchCount","searchCount","noResultCount","index","description","conversionRate","conversionCount","clickThroughRate","clickCount","averageClickPosition"]}}},"required":["status","name","createdAt","endAt","updatedAt","conversionSignificance","clickSignificance","abTestID","variants"]}},"count":{"type":"integer","description":"Number of A/B tests found for the app."},"total":{"type":"integer","description":"Number of A/B tests retrievable."}},"required":["abtests","count","total"]}}}},"400":{"description":"Bad request or request arguments.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"402":{"description":"This feature is not enabled on your Algolia account.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"403":{"description":"Method not allowed with this API key.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"404":{"description":"Index not found.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}}}}},"/2/abtests/{id}":{"get":{"tags":["abtest"],"operationId":"getABTest","summary":"Get a test.","description":"Returns metadata and metrics for an A/B test.\n","parameters":[{"in":"path","name":"id","description":"The A/B test ID.","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":false,"properties":{"abTestID":{"type":"integer","description":"The A/B test ID."},"clickSignificance":{"type":"number","format":"double","description":"A/B test significance based on click data. Should be > 0.95 to be considered significant (no matter which variant is winning)."},"conversionSignificance":{"type":"number","format":"double","description":"A/B test significance based on conversion data. Should be > 0.95 to be considered significant (no matter which variant is winning)."},"endAt":{"type":"string","description":"End date for the A/B test expressed as YYYY-MM-DDThh:mm:ssZ."},"updatedAt":{"type":"string","description":"Update date for the A/B test expressed as YYYY-MM-DDThh:mm:ssZ."},"createdAt":{"type":"string","description":"Creation date for the A/B test expressed as YYYY-MM-DDThh:mm:ssZ."},"name":{"type":"string","description":"A/B test name."},"status":{"type":"string","description":"status of the A/B test."},"variants":{"type":"array","description":"List of A/B test variant.","items":{"type":"object","additionalProperties":false,"properties":{"averageClickPosition":{"type":"integer","description":"Average click position for the variant."},"clickCount":{"type":"integer","description":"Distinct click count for the variant."},"clickThroughRate":{"type":"number","format":"double","description":"Click through rate for the variant."},"conversionCount":{"type":"integer","description":"Distinct conversion count for the variant."},"conversionRate":{"type":"number","format":"double","description":"Conversion rate for the variant."},"description":{"type":"string","description":"The A/B test description."},"index":{"type":"string","description":"The index performing the A/B test."},"noResultCount":{"description":"The number of occurrences.","type":"integer"},"searchCount":{"type":"integer","description":"The number of search during the A/B test."},"trackedSearchCount":{"type":"integer","description":"The number of tracked search click."},"trafficPercentage":{"type":"integer","description":"The traffic percentage for the A/B test."},"userCount":{"type":"integer","description":"The number of user during the A/B test."}},"required":["userCount","trafficPercentage","trackedSearchCount","searchCount","noResultCount","index","description","conversionRate","conversionCount","clickThroughRate","clickCount","averageClickPosition"]}}},"required":["status","name","createdAt","endAt","updatedAt","conversionSignificance","clickSignificance","abTestID","variants"]}}}},"400":{"description":"Bad request or request arguments.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"402":{"description":"This feature is not enabled on your Algolia account.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"403":{"description":"Method not allowed with this API key.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"404":{"description":"Index not found.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}}}},"delete":{"tags":["abtest"],"operationId":"deleteABTest","summary":"Delete a test.","description":"Delete a test.","parameters":[{"in":"path","name":"id","description":"The A/B test ID.","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":false,"properties":{"index":{"type":"string","description":"The index performing the A/B test."},"abTestID":{"type":"integer","description":"The A/B test ID."},"taskID":{"type":"integer","format":"int64","description":"taskID of the task to wait for."}},"required":["abTestID","index","taskID"]}}}},"400":{"description":"Bad request or request arguments.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"402":{"description":"This feature is not enabled on your Algolia account.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"403":{"description":"Method not allowed with this API key.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"404":{"description":"Index not found.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}}}}},"/2/abtests/{id}/stop":{"post":{"tags":["abtest"],"operationId":"stopABTest","summary":"Stop a test.","description":"Marks the A/B test as stopped.\nAt this point, the test is over and cannot be restarted. As a result, your application is back to normal: index A will perform as usual, receiving 100% of all search requests. Associated metadata and metrics are still stored.\n","parameters":[{"in":"path","name":"id","description":"The A/B test ID.","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":false,"properties":{"index":{"type":"string","description":"The index performing the A/B test."},"abTestID":{"type":"integer","description":"The A/B test ID."},"taskID":{"type":"integer","format":"int64","description":"taskID of the task to wait for."}},"required":["abTestID","index","taskID"]}}}},"400":{"description":"Bad request or request arguments.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"402":{"description":"This feature is not enabled on your Algolia account.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"403":{"description":"Method not allowed with this API key.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}},"404":{"description":"Index not found.","content":{"application/json":{"schema":{"description":"Error.","type":"object","additionalProperties":true,"properties":{"message":{"type":"string","example":"Invalid Application-Id or API-Key"}}}}}}}}}}}